{% extends 'base.html' %}
{% load static %}

{% block title %}Crear Producto - Mi Plataforma{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/formularios.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="form-container">
    <div class="container">
        <div class="form-card">
            <!-- Header del formulario -->
            <div class="form-header">
                <h1 class="form-title">
                    <i class="fas fa-plus-circle"></i>
                    Crear Nuevo Producto
                </h1>
                <p class="form-subtitle">Añade un nuevo producto a tu inventario</p>
            </div>

            <!-- Cuerpo del formulario -->
            <div class="form-body">
                <!-- Mensajes de error -->
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <form method="post" novalidate id="createProductForm">
                    {% csrf_token %}
                    
                    <!-- Nombre del producto -->
                    <div class="form-group">
                        <label for="nombre" class="form-label">
                            <i class="fas fa-tag"></i>
                            Nombre del Producto
                            <span class="required">*</span>
                        </label>
                        <input type="text" 
                               class="form-control{% if form.nombre.errors %} is-invalid{% endif %}" 
                               id="nombre" 
                               name="nombre" 
                               value="{{ form.nombre.value|default:'' }}"
                               placeholder="Ej: Laptop HP Pavilion"
                               required>
                        <div class="form-text">Ingresa un nombre descriptivo para el producto</div>
                        {% if form.nombre.errors %}
                            {% for error in form.nombre.errors %}
                                <div class="error-message">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <!-- Descripción -->
                    <div class="form-group">
                        <label for="descripcion" class="form-label">
                            <i class="fas fa-align-left"></i>
                            Descripción
                        </label>
                        <textarea class="form-control{% if form.descripcion.errors %} is-invalid{% endif %}" 
                                  id="descripcion" 
                                  name="descripcion" 
                                  placeholder="Describe las características principales del producto...">{{ form.descripcion.value|default:'' }}</textarea>
                        <div class="form-text">Proporciona una descripción detallada (opcional)</div>
                        {% if form.descripcion.errors %}
                            {% for error in form.descripcion.errors %}
                                <div class="error-message">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <!-- Precio y Cantidad en fila -->
                    <div class="form-row">
                        <!-- Precio -->
                        <div class="form-group">
                            <label for="precio" class="form-label">
                                <i class="fas fa-dollar-sign"></i>
                                Precio
                                <span class="required">*</span>
                            </label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" 
                                       step="0.01" 
                                       min="0" 
                                       class="form-control{% if form.precio.errors %} is-invalid{% endif %}" 
                                       id="precio" 
                                       name="precio" 
                                       value="{{ form.precio.value|default:'' }}"
                                       placeholder="0.00"
                                       required>
                            </div>
                            <div class="form-text">Precio unitario del producto</div>
                            {% if form.precio.errors %}
                                {% for error in form.precio.errors %}
                                    <div class="error-message">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>

                        <!-- Cantidad inicial -->
                        <div class="form-group">
                            <label for="cantidad" class="form-label">
                                <i class="fas fa-boxes"></i>
                                Cantidad Inicial
                                <span class="required">*</span>
                            </label>
                            <input type="number" 
                                   min="0" 
                                   class="form-control{% if form.cantidad.errors %} is-invalid{% endif %}" 
                                   id="cantidad" 
                                   name="cantidad" 
                                   value="{{ form.cantidad.value|default:'' }}"
                                   placeholder="0"
                                   required>
                            <div class="form-text">Stock inicial del producto</div>
                            {% if form.cantidad.errors %}
                                {% for error in form.cantidad.errors %}
                                    <div class="error-message">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>

                    <!-- Botones de acción -->
                    <div class="form-actions">
                        <a href="{% url 'panel:inventario' %}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i>
                            Cancelar
                        </a>
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            <i class="fas fa-save"></i>
                            Guardar Producto
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/crear-producto.js' %}"></script>
{% endblock %}